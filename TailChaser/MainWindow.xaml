<Window x:Class="TailChaser.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:entity="clr-namespace:TailChaser.Entity;assembly=TailChaser.Entity"
        Title="Tail Chaser" Height="800" Width="1050">
    <Grid>
        <DockPanel Name="BrowserPane">
            <Menu DockPanel.Dock="Top" IsMainMenu="True">
                <MenuItem Header="File">
                    <MenuItem Header="New Machine" Click="NewMachine_Click" ></MenuItem>
                    <MenuItem Header="Open File" Click="OpenGrouping_Click"></MenuItem>
                    <Separator />
                    <MenuItem Header= "Save" Click="Save_Click"></MenuItem>
                </MenuItem>
            </Menu>

            <TreeView Name="MachineTreeView" Width="242" ItemsSource="{Binding}" DockPanel.Dock="Left"  MouseRightButtonDown="UiElement_OnMouseRightButtonDown">
                <TreeView.Resources>
                    <HierarchicalDataTemplate DataType="{x:Type entity:Machine}" ItemsSource="{Binding Groups}">
                        <Border Width="150" BorderBrush="DodgerBlue" Background="DodgerBlue" BorderThickness="1" CornerRadius="2" Margin="2" Padding="2">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding Path=Name}"></TextBlock>
                            </StackPanel>
                        </Border>
                        <HierarchicalDataTemplate.Triggers>
                            
                        </HierarchicalDataTemplate.Triggers>
                    </HierarchicalDataTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type entity:Group}" ItemsSource="{Binding Files}">
                        <Border Width="132" Background="Lavender" CornerRadius="2" Margin="1">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="26"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Margin="2" Text="{Binding Path=Name}"></TextBlock>
                            </Grid>
                        </Border>
                    </HierarchicalDataTemplate>
                    <DataTemplate DataType="{x:Type entity:TailedFile}">
                        <Border Width="132" Background="Lavender" CornerRadius="2" Margin="1">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="26"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Margin="2" Text="{Binding Path=Name}"></TextBlock>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </TreeView.Resources>
            </TreeView>
            <TabControl Name="Tabs" DockPanel.Dock="Right">
                <TabItem Header="Meep" BorderThickness="2"></TabItem>
            </TabControl>
        </DockPanel>
    </Grid>
</Window>
